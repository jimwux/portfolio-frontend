<section id="contact" class="section section-soft contact-section">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="section-title font-serif mb-2">Contactame</h2>
      <div class="title-underline"></div>
      <p class="section-subtitle mx-auto mt-3">
        Si tenés una idea, proyecto o simplemente querés saludar, escribime y te respondo.
      </p>
    </div>

    <div class="contact-grid">
      <div class="contact-left">
        <div class="info-list">
          <a
            class="info-card"
            *ngFor="let c of cards"
            [href]="c.href"
            [attr.target]="c.targetBlank ? '_blank' : null"
            [attr.rel]="c.targetBlank ? 'noopener noreferrer' : null"
          >
            <div class="info-icon">
              <i [class]="c.icon"></i>
            </div>

            <div class="info-body">
              <h3 class="info-title">{{ c.title }}</h3>
              <p class="info-value">{{ c.value }}</p>
              @if (c.helper) {
                <p class="info-helper">{{ c.helper }}</p>
              }
            </div>

            @if (c.type === 'social') {
              <i class="fa-solid fa-arrow-right info-arrow"></i>
            }
          </a>
        </div>

        <div class="contact-map card-soft">
          <iframe
            [src]="mapUrl"
            width="100%"
            height="300"
            style="border:0; border-radius: 12px;"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
          ></iframe>
          <div class="map-badge">
            <i class="fa-solid fa-location-dot me-2"></i>
            {{ mapLabel }}
          </div>
        </div>
      </div>

      <form class="contact-form card-soft" [formGroup]="form" (ngSubmit)="submit()">
        <div class="form-head">
          <h3 class="form-title">Enviar mensaje</h3>
          <p class="form-subtitle">Te respondo lo antes posible.</p>
        </div>

        <div class="field">
          <label for="name">Tu nombre</label>
          <input id="name" type="text" formControlName="name" placeholder="Tu nombre" />
        </div>

        <div class="field">
          <label for="email">Email</label>
          <input id="email" type="email" formControlName="email" placeholder="tu@email.com" />
        </div>

        <div class="field">
          <label for="message">Mensaje</label>
          <textarea
            id="message"
            rows="5"
            formControlName="message"
            placeholder="Contame sobre tu idea..."
          ></textarea>
        </div>

        <button class="btn-primary-soft btn-send" type="submit" [disabled]="sending">
          @if (!sending) {
            <span>Enviar</span>
          }
          @if (sending) {
            <span>Enviando…</span>
          }
          <i class="fa-solid fa-paper-plane ms-2"></i>
        </button>
      </form>
    </div>
  </div>
</section>
